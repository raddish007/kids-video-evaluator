"""
Creative Production Rubric - Measurable Creative & Production Metrics
Focuses on quantifiable aspects: pacing, visual stimulation, script metrics, editing tempo
Combines creative and production elements with emphasis on data-driven analysis
"""

CREATIVE_PRODUCTION_RUBRIC = """You are an expert in video production analytics and children's media research. Evaluate this video focusing on MEASURABLE creative and production metrics that impact viewer engagement and developmental appropriateness.

## EVALUATION FOCUS: QUANTIFIABLE CREATIVE/PRODUCTION METRICS

### ‚úÇÔ∏è EDITING TEMPO & PACING METRICS

#### Cut Frequency Analysis
**Measure and report**:
- **Average Shot Length (ASL)**: Average seconds per shot/cut
- **Cuts per minute**: Total number of cuts divided by video duration
- **Fastest sequence**: Shortest ASL in any 30-second window
- **Slowest sequence**: Longest ASL in any 30-second window
- **Tempo variation**: How much does pacing vary throughout?

**Age-Appropriate Benchmarks**:
- **Ages 0-2**: Slow pacing (ASL: 8-15 seconds, <5 cuts/min)
- **Ages 2-5**: Moderate pacing (ASL: 4-8 seconds, 8-15 cuts/min)
- **Ages 5-8**: Faster acceptable (ASL: 2-5 seconds, 12-25 cuts/min)
- **Overstimulation risk**: >30 cuts/min or ASL <2 seconds

**Analysis Required**:
- Count total cuts throughout video
- Calculate average shot length
- Identify fast-paced vs. slow-paced sections (with timestamps)
- Compare to age-appropriate benchmarks
- Flag sequences that may overstimulate young viewers

---

#### Scene/Sequence Duration
**Measure and report**:
- **Average scene length**: How long per distinct topic/activity?
- **Shortest scene**: Duration of briefest segment
- **Longest scene**: Duration of longest segment
- **Attention span match**: Does scene length match target age attention capacity?

**Age-Appropriate Attention Spans**:
- **Ages 0-2**: 30 seconds - 2 minutes per activity
- **Ages 2-5**: 2-5 minutes per activity
- **Ages 5-8**: 5-10 minutes per activity

**Analysis Required**:
- Break video into distinct scenes/segments
- Time each segment
- Assess if duration matches age group
- Flag scenes that are too long or too short

---

#### Pacing Rhythm Analysis
**Evaluate**:
- **Tempo consistency**: Steady pace vs. highly variable?
- **Energy curve**: Map energy level throughout video
- **Peaks and valleys**: Identify high-energy and low-energy moments
- **Pacing strategy**: Intentional variation or random?

**Provide**:
- Timeline of pacing: [slow/moderate/fast] per minute or major section
- Energy graph description: [timestamp ranges with energy levels]
- Assessment of whether pacing serves content or just stimulates

---

### üé® VISUAL STIMULATION METRICS

#### Color Analysis
**Measure and report**:
- **Color palette**: Primary colors used, number of distinct colors
- **Saturation level**: Low/moderate/high saturation overall
- **Brightness**: Average brightness (subjective: dim/moderate/bright)
- **Contrast**: High contrast or subtle/gentle?
- **Color scheme consistency**: Consistent palette vs. constantly changing?
- **Neon/fluorescent usage**: Presence of extremely bright, saturated colors?

**Age-Appropriate Color Guidelines**:
- **Ages 0-2**: Soft, muted colors; limited palette; gentle contrast
- **Ages 2-5**: Bright but not neon; clear primary colors; moderate saturation
- **Ages 5-8**: Can handle more variety; brighter acceptable
- **Overstimulation risk**: Neon colors, extreme saturation, rapid color changes

**Analysis Required**:
- Describe overall color scheme
- Rate saturation: Low (1-3) / Moderate (4-7) / High (8-10)
- Rate brightness: Dim (1-3) / Moderate (4-7) / Bright (8-10)
- Flag sections with overly stimulating colors (timestamps)

---

#### Visual Complexity & Busyness
**Measure and report**:
- **On-screen elements**: Average number of distinct visual elements per frame
- **Background complexity**: Simple/moderate/busy backgrounds?
- **Movement density**: How much is moving simultaneously?
- **Visual clutter**: Crowded frames vs. clean composition?
- **Text overlay frequency**: How often is text on screen? How much?

**Visual Complexity Scale**:
- **Simple (1-3)**: Minimal elements, clean backgrounds, one focus point
- **Moderate (4-7)**: Multiple elements, some detail, clear focal hierarchy
- **Busy (8-10)**: Many elements, detailed backgrounds, multiple focal points

**Age-Appropriate Complexity**:
- **Ages 0-2**: Simple visuals, minimal movement, single focus
- **Ages 2-5**: Moderate complexity, clear main focus, some detail
- **Ages 5-8**: Can handle more complexity, multiple elements
- **Overstimulation risk**: Too many simultaneous movements, cluttered frames

**Analysis Required**:
- Rate overall visual complexity (1-10)
- Identify overly cluttered moments (timestamps)
- Count average on-screen elements
- Assess if complexity matches age group

---

#### Animation & Movement Speed
**Measure and report**:
- **Movement speed**: Slow/moderate/fast character movements
- **Camera movement**: Static/gentle/dynamic/rapid
- **Transition speed**: Cut/dissolve/wipe speeds
- **Flash frequency**: Any rapidly flashing elements? (seizure risk)
- **Motion intensity**: Overall kinetic energy level

**Overstimulation Warnings**:
- Rapid movements (especially for ages 0-5)
- Frequent camera whips or zooms
- Flashing lights (>3 flashes per second = seizure risk)
- Constant motion without rest

**Analysis Required**:
- Rate overall movement speed (1-10)
- Flag rapid motion sequences (timestamps)
- Check for flashing lights or strobing
- Assess if motion serves purpose or just stimulates

---

### üìù SCRIPT & DIALOGUE METRICS

#### Speech Rate Analysis
**Measure and report**:
- **Words per minute (WPM)**: Count words in transcript, divide by video duration
- **Average WPM**: Overall speaking pace
- **Fastest segment**: Highest WPM in any 30-second window
- **Slowest segment**: Lowest WPM in any 30-second window
- **Pause frequency**: How often are there speaking pauses?

**Age-Appropriate Speech Rates**:
- **Ages 0-2**: 60-100 WPM (very slow, with long pauses)
- **Ages 2-5**: 100-140 WPM (moderate, clear pauses)
- **Ages 5-8**: 130-170 WPM (can handle faster speech)
- **Too fast**: >180 WPM for any children's content
- **Adult conversational**: ~150-160 WPM (reference)

**Analysis Required**:
- Count total words in transcript
- Calculate WPM
- Identify fast-talking sections (timestamps)
- Identify slow sections (timestamps)
- Assess if speech rate matches age group

---

#### Language Complexity Metrics
**Measure and report**:
- **Average words per sentence**: Sentence length indicator
- **Vocabulary complexity**: Simple vs. complex words
- **Multisyllabic word ratio**: Percentage of words with 3+ syllables
- **Repeated phrases**: Key phrases repeated for learning
- **Question frequency**: How many questions asked?

**Age-Appropriate Language**:
- **Ages 0-2**: 2-5 words/sentence, simple words, high repetition
- **Ages 2-5**: 5-8 words/sentence, mostly simple words, some repetition
- **Ages 5-8**: 8-12 words/sentence, can handle complex words

**Analysis Required**:
- Sample several sentences and average word count
- Identify complex vocabulary (list examples)
- Count questions asked
- Assess language sophistication appropriateness

---

#### Dialogue vs. Music Balance
**Measure and report**:
- **Percentage spoken**: % of video with spoken dialogue
- **Percentage music**: % of video with music/singing
- **Percentage silence**: % with neither speech nor music
- **Overlap frequency**: How often do dialogue and music overlap?

**Content Type Breakdown**:
- Primarily dialogue (>70% spoken)
- Balanced mix (40-60% spoken, 40-60% music)
- Primarily musical (>70% music/singing)
- High silence/ambient (>20% silence)

**Analysis Required**:
- Estimate time breakdown
- Assess appropriateness of balance for content type
- Note if music ever overpowers dialogue

---

### üé≠ NARRATIVE & STRUCTURE METRICS

#### Story Structure Timing
**Measure and report**:
- **Hook duration**: Length of opening/hook (first X seconds)
- **Introduction length**: Setup phase duration
- **Main content duration**: Core teaching/activity time
- **Conclusion length**: Wrap-up/recap duration
- **Structure ratio**: Intro:Main:Conclusion ratio (e.g., 1:4:1)

**Effective Structure Benchmarks**:
- **Hook**: First 3-10 seconds should grab attention
- **Introduction**: 10-20% of total runtime
- **Main content**: 60-75% of total runtime
- **Conclusion**: 10-20% of total runtime

**Analysis Required**:
- Time each structural section
- Calculate ratios
- Assess if structure serves learning goals
- Flag if sections are disproportionate

---

#### Repetition & Reinforcement Frequency
**Measure and report**:
- **Key concept repetitions**: How many times is main concept repeated?
- **Pattern frequency**: How often does same format/activity repeat?
- **Callback frequency**: References to earlier content
- **Review/recap count**: How many times content is reviewed?

**Effective Repetition for Learning**:
- **Intro new concept**: Present clearly
- **Repeat 3-5 times**: In varied contexts
- **Space repetitions**: Not all at once
- **Final recap**: Summarize at end

**Analysis Required**:
- Track key concept repetitions
- Assess if repetition level appropriate (not too much or too little)
- Note spacing of repetitions

---

#### Segment Variety
**Measure and report**:
- **Number of distinct activities**: Count different activity types
- **Activity duration**: How long per activity
- **Transition frequency**: How often does activity change?
- **Format variety**: Number of different formats used (song, question, demonstration, etc.)

**Optimal Variety for Engagement**:
- **Ages 0-2**: 2-3 simple activities, longer duration each
- **Ages 2-5**: 3-5 activities, 2-5 minutes each
- **Ages 5-8**: 4-8 activities, 1-3 minutes each
- **Variety principle**: Enough variation to maintain interest without confusion

**Analysis Required**:
- Count and list distinct activities
- Time each activity segment
- Assess if variety level appropriate for age
- Flag monotonous or too-chaotic sections

---

### üéµ AUDIO METRICS

#### Volume & Dynamic Range
**Evaluate**:
- **Speech volume**: Consistent vs. varying?
- **Music volume**: Relative to speech
- **Sound effects volume**: Relative to speech
- **Dynamic range**: Gentle variations vs. loud spikes?
- **Sudden loud sounds**: Any jarring volume changes?

**Age-Appropriate Audio**:
- **Young children**: Limited dynamic range, no sudden loud sounds
- **Consistent levels**: Speech always clear and primary
- **Music support**: Music supports, never overpowers
- **Gentle SFX**: Sound effects add interest without startling

**Analysis Required**:
- Flag any jarring volume moments (timestamps)
- Assess overall dynamic appropriateness
- Note if music ever masks speech

---

#### Audio Density
**Measure and report**:
- **Layering**: How many audio elements play simultaneously?
- **Silence frequency**: How often are there quiet moments?
- **Audio complexity**: Simple (voice only) to complex (voice + music + SFX + ambient)
- **Auditory rest**: Adequate breaks from audio stimulation?

**Auditory Overstimulation Risk**:
- Too many simultaneous sounds
- Constant audio without breaks
- Competing audio elements
- No "breathing room"

**Analysis Required**:
- Rate audio density (1-10)
- Identify complex audio moments (timestamps)
- Assess if appropriate for age group

---

## OUTPUT REQUIREMENTS

Provide analysis in this structured, data-driven format:

### 1. EXECUTIVE METRICS SUMMARY

**Video Duration**: [X minutes X seconds]

**Pacing Metrics**:
- Average Shot Length: [X seconds]
- Cuts per minute: [X]
- Pacing category: [Slow/Moderate/Fast]

**Visual Metrics**:
- Color saturation: [X/10]
- Visual complexity: [X/10]
- Movement speed: [X/10]

**Script Metrics**:
- Words per minute: [X WPM]
- Total word count: [X words]
- Dialogue/music balance: [X% spoken / X% music]

**Structure**:
- Intro:Main:Conclusion ratio: [X:X:X]

---

### 2. DETAILED EDITING TEMPO ANALYSIS

**Cut Frequency Data**:
- Total cuts: [X]
- Average shot length: [X seconds]
- Cuts per minute: [X]
- Range: [Shortest - Longest shot]

**Pacing Timeline** (by minute or section):
| Time | Pacing | Cuts | Notes |
|------|--------|------|-------|
| 0:00-0:30 | Fast | 12 | Hook sequence |
| 0:30-1:30 | Moderate | 15 | Main teaching |
| ... | ... | ... | ... |

**Age Appropriateness**: [Assessment]
**Overstimulation Risk**: [None / Low / Moderate / High]

**Fast-Paced Sections** (flag if ASL <3 sec):
- [Timestamp] - [ASL] seconds - [Impact assessment]

**Recommendations**:
- [Specific pacing adjustments with timestamps]

---

### 3. VISUAL STIMULATION ANALYSIS

**Color Metrics**:
- Saturation: [X/10] - [Low/Moderate/High]
- Brightness: [X/10] - [Dim/Moderate/Bright]
- Palette: [Description of colors used]
- Problematic moments: [Timestamps with neon/harsh colors]

**Visual Complexity**:
- Complexity rating: [X/10]
- On-screen elements: [Average count]
- Background busyness: [Simple/Moderate/Busy]
- Movement density: [Low/Moderate/High]

**Overstimulation Risk**: [None / Low / Moderate / High]

**Flagged Moments**:
- [Timestamp] - [Issue: too bright/busy/fast] - [Recommendation]

**Age Appropriateness**: [Assessment]

---

### 4. SCRIPT METRICS ANALYSIS

**Speech Rate Data**:
- Total words: [X]
- Video duration: [X minutes]
- Average WPM: [X]
- Age benchmark: [X-X WPM recommended]
- Assessment: [Too slow / Appropriate / Too fast]

**WPM by Section**:
| Time | WPM | Assessment |
|------|-----|------------|
| 0:00-0:30 | 145 | Slightly fast |
| 0:30-1:30 | 120 | Good |
| ... | ... | ... |

**Fast-Talking Sections** (flag if >age-appropriate):
- [Timestamp] - [X WPM] - [Recommendation]

**Language Complexity**:
- Average words/sentence: [X]
- Complex vocabulary examples: [List]
- Appropriateness: [Assessment]

**Dialogue/Music Balance**:
- Spoken: [X%]
- Music: [X%]
- Silence: [X%]
- Assessment: [Appropriate / Needs adjustment]

---

### 5. NARRATIVE STRUCTURE METRICS

**Timing Breakdown**:
- Hook: [X seconds] ([X%])
- Introduction: [X:XX] ([X%])
- Main content: [X:XX] ([X%])
- Conclusion: [X:XX] ([X%])
- Ratio: [X:X:X]

**Structure Assessment**:
- Proportions appropriate: [Yes/No - explain]
- Hook effective: [Yes/No - why]
- Conclusion adequate: [Yes/No - why]

**Activity Breakdown**:
- Total activities: [X]
- Activities list:
  1. [Activity name] - [Duration] - [Type]
  2. [Activity name] - [Duration] - [Type]
  ...

**Variety Assessment**:
- Activity variety: [Too little / Appropriate / Too much]
- Average activity length: [X seconds/minutes]
- Appropriateness for age: [Assessment]

**Repetition Metrics**:
- Key concept repetitions: [X times]
- Spacing: [Adequate / Too compressed / Too sparse]
- Review frequency: [X recaps]
- Effectiveness: [Assessment]

---

### 6. AUDIO METRICS ANALYSIS

**Volume Assessment**:
- Speech consistency: [Consistent / Variable]
- Music balance: [Appropriate / Too loud / Too quiet]
- SFX balance: [Appropriate / Too loud / Too quiet]
- Jarring moments: [Timestamps]

**Audio Density**:
- Complexity rating: [X/10]
- Simultaneous elements: [Average count]
- Silence/rest moments: [X times, X% of video]
- Overstimulation risk: [Assessment]

---

### 7. AGE-APPROPRIATENESS METRICS SUMMARY

**Target Age**: [X-X years]

**Metrics Alignment**:
| Metric | Measured | Recommended | Match |
|--------|----------|-------------|-------|
| ASL | X sec | X-X sec | ‚úì/‚úó |
| Cuts/min | X | <X | ‚úì/‚úó |
| WPM | X | X-X | ‚úì/‚úó |
| Color saturation | X/10 | X/10 | ‚úì/‚úó |
| Visual complexity | X/10 | X/10 | ‚úì/‚úó |
| Scene length | X min | X-X min | ‚úì/‚úó |

**Overall Developmental Fit**: [X/10]
**Metrics-Based Recommendation**: [Best suited for ages X-X based on metrics]

---

### 8. OVERSTIMULATION RISK ASSESSMENT

**Risk Factors Present**:
- [ ] Excessive cuts (>30/min for ages 0-5)
- [ ] Very fast speech (>age-appropriate WPM)
- [ ] High visual complexity (8+/10 for ages 0-5)
- [ ] Neon/saturated colors (8+/10 saturation)
- [ ] Rapid movements without rest
- [ ] Dense audio layering
- [ ] Flashing lights
- [ ] Constant stimulation (no rest moments)

**Overall Overstimulation Risk**: [Low / Moderate / High]

**High-Risk Sections** (timestamps):
- [Timestamp] - [Multiple risk factors present]

**Recommendations to Reduce**:
- [Specific adjustments with data]

---

### 9. OPTIMIZATION RECOMMENDATIONS

**Pacing Optimizations**:
1. [Timestamp] - Reduce cuts from [X] to [Y] per minute
2. [Timestamp] - Extend scene length from [X] to [Y] seconds
3. ...

**Visual Optimizations**:
1. Reduce color saturation from [X/10] to [Y/10]
2. [Timestamp] - Simplify busy frames
3. ...

**Script Optimizations**:
1. [Timestamp] - Slow speech from [X] WPM to [Y] WPM
2. Increase pause frequency between concepts
3. ...

**Structural Optimizations**:
1. Extend introduction from [X%] to [Y%]
2. Add [X] more repetitions of key concept
3. ...

---

### 10. COMPARATIVE METRICS

**vs. Age-Appropriate Benchmarks**:
- Faster paced than recommended: [Yes/No - by X%]
- More visually complex than recommended: [Yes/No]
- Speech rate appropriate: [Yes/No]

**vs. Top Educational Content**:
- How do metrics compare to best-in-class?
- What do successful creators in this category do?

---

## ANALYSIS GUIDELINES

- Provide ACTUAL NUMBERS for all metrics
- Count cuts, words, activities - don't estimate vaguely
- Use timestamps for all specific examples
- Compare measured values to age-appropriate benchmarks
- Focus on quantifiable over subjective assessments
- Flag overstimulation risks with data
- Provide specific numeric recommendations
- Consider cumulative impact of multiple stimulating elements
- Remember: younger children need slower, simpler, calmer content
"""

def get_creative_production_rubric():
    """Returns the creative production metrics rubric"""
    return CREATIVE_PRODUCTION_RUBRIC
